{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","onChange","handler","PersonForm","onSubmit","addPerson","name","handleNameChange","number","handleNumberChange","type","Persons","persons","filter","p","toLowerCase","includes","filterTerm","map","onClick","deletePerson","id","Notification","message","className","text","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","personService","initialPersons","sort","p1","p2","console","log","length","event","target","preventDefault","find","setTimeout","newPerson","replacedPerson","window","confirm","returnedPerson","concat","catch","error","person","res","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.21fc289e.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (<div>\n        filter shown with: <input value={props.value} onChange={props.handler} />\n    </div>)\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n            <div>\n                name: <input value={props.name} onChange={props.handleNameChange} />\n            </div>\n            <div>\n                number: <input value={props.number} onChange={props.handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = (props) => {\n  return (\n    <div>\n      {props.persons\n        .filter(p => p.name.toLowerCase().includes(props.filterTerm))\n        .map(p => <>\n          <p key={p.id}>\n            {p.name} {p.number}\n            <button onClick={() => props.deletePerson(p)}>delete</button>\n          </p>\n        </>)\n      }\n    </div>\n  )\n}\n\nexport default Persons","const Notification = ({ message, type }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={message.type}>\n            {message.text}\n        </div>\n    )\n}\n\nexport default Notification\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll, create, update, remove\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => setPersons(initialPersons.sort((p1, p2) => p1.id - p2.id)))\n  }, [])\n\n  console.log('render', persons.length, 'persons')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.find(p => p.name === newName && p.number === newNumber)) {\n      setMessage({ text: `${newName} is already in phonebook.`, type: \"error\" })\n      setTimeout(() => setMessage(null), 5000)\n      return\n    }\n    const newPerson = { name: newName, number: newNumber }\n    const replacedPerson = persons.find(p => p.name === newName && p.number !== newNumber)\n    if (replacedPerson) {\n      if (window.confirm(`${newName} is already in phonebook. Replace the old number with new one?`)) {\n        personService.update(replacedPerson.id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.filter(p => p.id !== replacedPerson.id).concat(returnedPerson).sort((p1, p2) => p1.id - p2.id))\n            setNewName('')\n            setNewNumber('')\n            setMessage({ text: `Updated ${returnedPerson.name}`, type: \"info\" })\n            setTimeout(() => setMessage(null), 5000)\n          }).catch(error => {\n            setPersons(persons.filter(p => p.id !== replacedPerson.id))\n            setMessage({ text: `Information of ${newName} has already been removed from server`, type: \"error\" })\n            setTimeout(() => setMessage(null), 5000)\n          })\n      }\n      return\n    }\n    personService\n      .create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setMessage({ text: `Added ${returnedPerson.name}`, type: \"info\" })\n        setTimeout(() => setMessage(null), 5000)\n      })\n      .catch(error => {\n        console.log(error.response)\n        setMessage({ text: error.response.data.error, type: \"error\" })\n        setTimeout(() => setMessage(null), 5000)\n      })\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Do you really want to delete ${person.name} ?`)) {\n      personService.remove(person.id)\n        .then(res => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMessage({ text: `Deleted ${person.name}`, type: \"info\" })\n          setTimeout(() => setMessage(null), 5000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMessage({ text: `Information of ${newName} has already been removed from server`, type: \"error\" })\n          setTimeout(() => setMessage(null), 5000)\n        })\n    }\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={newFilter} handler={event => setNewFilter(event.target.value.toLowerCase())} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        name={newName} handleNameChange={event => setNewName(event.target.value)}\n        number={newNumber} handleNumberChange={event => setNewNumber(event.target.value)}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} filterTerm={newFilter} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n"],"sourceRoot":""}